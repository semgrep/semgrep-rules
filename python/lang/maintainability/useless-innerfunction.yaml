rules:
- id: useless-inner-function
  patterns:
  - pattern-not-inside: |
      def $F(...):
          ...
          def $FF(...):
             ...
          ...
          $FF
  - pattern-not-inside: |
      def $F(...):
          ...
          class $CLAZZ(...):
            ...
  - pattern: |
      def $F(...):
          ...
          def $FF(...):
             ...
          ...
  message: function `$FF` is defined inside a function but never used
  languages: [python]
  severity: ERROR
