rules:
  - id: useless-assignment-keyed
    patterns:
      - pattern-either:
          - pattern: |
              $X[$Y] = ...
              $X[$Y] = ...
          - pattern: |
              $X[$Y][$Z] = ...
              $X[$Y][$Z] = ...
    message: "key `$Y` in `$X` is assigned twice; the first assignment is useless"
    languages: [python]
    severity: WARNING
  - id: useless-assignment
    patterns:
      - pattern: |
          $X = $Y
          $X = $Z
    message: "`$X` is assigned twice; the first assignment is useless"
    languages: [python]
    severity: WARNING
